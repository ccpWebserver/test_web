(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[597],{64302:function(V,_,a){"use strict";a.d(_,{Z:function(){return s}});var $=a(28991),D=a(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},P=x,M=a(27029),A=function(U,b){return D.createElement(M.Z,(0,$.Z)((0,$.Z)({},U),{},{ref:b,icon:P}))};A.displayName="MailOutlined";var s=D.forwardRef(A)},16434:function(V,_,a){"use strict";var $=a(9715),D=a(41003),x=a(57663),P=a(71577),M=a(47673),A=a(1011),s=a(67294),p=a(64893),U=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(n){I(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t,r,n,i,u,g){try{var v=e[u](g),c=v.value}catch(R){r(R);return}v.done?t(c):Promise.resolve(c).then(n,i)}function B(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var u=e.apply(t,r);function g(c){z(u,n,i,g,v,"next",c)}function v(c){z(u,n,i,g,v,"throw",c)}g(void 0)})}}function F(e,t){if(e==null)return{};var r=W(e,t),n,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function W(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,u;for(u=0;u<n.length;u++)i=n[u],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function G(e,t){return J(e)||H(e,t)||T(e,t)||Y()}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(e,t){if(!!e){if(typeof e=="string")return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}function S(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,u=!1,g,v;try{for(r=r.call(e);!(i=(g=r.next()).done)&&(n.push(g.value),!(t&&n.length===t));i=!0);}catch(c){u=!0,v=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(u)throw v}}return n}}function J(e){if(Array.isArray(e))return e}var f=s.forwardRef(function(e,t){var r=(0,s.useState)(e.countDown||60),n=G(r,2),i=n[0],u=n[1],g=(0,s.useState)(!1),v=G(g,2),c=v[0],R=v[1],o=(0,s.useState)(),Q=G(o,2),X=Q[0],N=Q[1],k=e.rules,q=e.name,E=e.phoneName,d=e.fieldProps,y=e.captchaTextRender,m=y===void 0?function(j,w){return j?"".concat(w," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:y,Z=e.captchaProps,l=F(e,U),ee=function(){var j=B(regeneratorRuntime.mark(function w(K){return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,N(!0),O.next=4,l.onGetCaptcha(K);case 4:N(!1),R(!0),O.next=13;break;case 8:O.prev=8,O.t0=O.catch(0),R(!1),N(!1),console.log(O.t0);case 13:case"end":return O.stop()}},w,null,[[0,8]])}));return function(K){return j.apply(this,arguments)}}();return(0,s.useEffect)(function(){var j=0,w=e.countDown;return c&&(j=window.setInterval(function(){u(function(K){return K<=1?(R(!1),clearInterval(j),w||60):K-1})},1e3)),function(){return clearInterval(j)}},[c]),s.createElement(D.Z.Item,{noStyle:!0,shouldUpdate:!0},function(j){var w=j.getFieldValue,K=j.validateFields;return s.createElement("div",{style:L(L({},d==null?void 0:d.style),{},{display:"flex",alignItems:"center"}),ref:t},s.createElement(A.Z,b({},d,{style:{flex:1,transition:"width .3s",marginRight:8}})),s.createElement(P.Z,b({style:{display:"block"},disabled:c,loading:X},Z,{onClick:B(regeneratorRuntime.mark(function te(){var O;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.prev=0,!E){h.next=9;break}return h.next=4,K([E].flat(1));case 4:return O=w([E].flat(1)),h.next=7,ee(O);case 7:h.next=11;break;case 9:return h.next=11,ee("");case 11:h.next=16;break;case 13:h.prev=13,h.t0=h.catch(0),console.log(h.t0);case 16:case"end":return h.stop()}},te,null,[[0,13]])}))}),m(c,i)))})});_.Z=(0,p.Z)(f)},34687:function(V){V.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",tap:"tap___I2PW7",icon:"icon___rzGKO"}},31510:function(V,_,a){"use strict";a.r(_),a.d(_,{default:function(){return r}});var $=a(57663),D=a(71577),x=a(34792),P=a(55026),M=a(3182),A=a(94043),s=a.n(A),p=a(5550),U=a(37456),b=a(16434),C=a(28991),L=a(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M879.5 470.4c-.3-27-.4-54.2-.5-81.3h-80.8c-.3 27-.5 54.1-.7 81.3-27.2.1-54.2.3-81.2.6v80.9c27 .3 54.2.5 81.2.8.3 27 .3 54.1.5 81.1h80.9c.1-27 .3-54.1.5-81.3 27.2-.3 54.2-.4 81.2-.7v-80.9c-26.9-.2-54.1-.2-81.1-.5zm-530 .4c-.1 32.3 0 64.7.1 97 54.2 1.8 108.5 1 162.7 1.8-23.9 120.3-187.4 159.3-273.9 80.7-89-68.9-84.8-220 7.7-284 64.7-51.6 156.6-38.9 221.3 5.8 25.4-23.5 49.2-48.7 72.1-74.7-53.8-42.9-119.8-73.5-190-70.3-146.6-4.9-281.3 123.5-283.7 270.2-9.4 119.9 69.4 237.4 180.6 279.8 110.8 42.7 252.9 13.6 323.7-86 46.7-62.9 56.8-143.9 51.3-220-90.7-.7-181.3-.6-271.9-.3z"}}]},name:"google-plus",theme:"outlined"},z=I,B=a(27029),F=function(i,u){return L.createElement(B.Z,(0,C.Z)((0,C.Z)({},i),{},{ref:u,icon:z}))};F.displayName="GooglePlusOutlined";var W=L.forwardRef(F),G=a(64302),Y=a(34687),T=a.n(Y),S=a(93874),H=a(53776),J=a(67329),f=a(83832),e=a(28219),t=a(85893),r=function(){var n,i,u,g,v,c=(0,e.YB)(),R=(0,H.t)("@@initialState"),o=R.initialState,Q=R.setInitialState,X=function(){var E=(0,M.Z)(s().mark(function d(y){var m;return s().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,S.w.setEmail(y.mail,y.captcha);case 3:m=l.sent,m=m.data,P.default.success(m.info),l.next=12;break;case 8:l.prev=8,l.t0=l.catch(0),console.log(l.t0),P.default.error(l.t0.info);case 12:case"end":return l.stop()}},d,null,[[0,8]])}));return function(y){return E.apply(this,arguments)}}(),N=(0,J.f)(X),k=N.request,q=N.status;return(0,t.jsxs)(p.Z,{initialValues:{autoLogin:!0},submitter:{render:function(d,y){var m;return q==J.o.wait?(0,t.jsx)(f.Z,{}):(o==null||(m=o.currentUser)===null||m===void 0?void 0:m.email)!=""?(0,t.jsx)("span",{}):[(0,t.jsx)(D.Z,{block:!0,type:"primary",onClick:d.submit,children:(0,t.jsx)(e._H,{id:"menu.MyAccount.setmail"})})]}},onFinish:function(){var E=(0,M.Z)(s().mark(function d(y){return s().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,k(y);case 2:case"end":return Z.stop()}},d)}));return function(d){return E.apply(this,arguments)}}(),children:[(0,t.jsx)(U.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(W,{className:T().prefixIcon})},disabled:(o==null||(n=o.currentUser)===null||n===void 0?void 0:n.email)!="",placeholder:(o==null||(i=o.currentUser)===null||i===void 0?void 0:i.email)==""?c.formatMessage({id:"pages.register.username"}):o==null||(u=o.currentUser)===null||u===void 0?void 0:u.email,name:"mail",initialValue:o==null||(g=o.currentUser)===null||g===void 0?void 0:g.email,rules:[{required:!0,pattern:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,message:(0,t.jsx)(e._H,{id:"pages.register.username"})}]}),(0,t.jsx)("div",{style:{height:"10px"}}),(o==null||(v=o.currentUser)===null||v===void 0?void 0:v.email)==""&&(0,t.jsx)(b.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(G.Z,{className:T().prefixIcon})},captchaProps:{size:"large"},placeholder:c.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(d,y){return d?"".concat(y," ").concat(c.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):c.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},phoneName:"mail",name:"captcha",rules:[{required:!0,message:(0,t.jsx)(e._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var E=(0,M.Z)(s().mark(function d(y){var m;return s().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,S.w.sendSms(y,"setemail");case 3:if(m=l.sent,m!==!1){l.next=6;break}return l.abrupt("return");case 6:P.default.success(m.info),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(0),P.default.error(l.t0.info);case 12:case"end":return l.stop()}},d,null,[[0,9]])}));return function(d){return E.apply(this,arguments)}}()})]})}},67329:function(V,_,a){"use strict";a.d(_,{f:function(){return A},o:function(){return s}});var $=a(3182),D=a(2824),x=a(94043),P=a.n(x),M=a(67294),A=function(U){var b=(0,M.useState)(s.start),C=(0,D.Z)(b,2),L=C[0],I=C[1],z=(0,M.useState)(),B=(0,D.Z)(z,2),F=B[0],W=B[1],G=(0,M.useCallback)((0,$.Z)(P().mark(function Y(){var T,S,H=arguments;return P().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,I(s.wait),f.next=4,U.apply(void 0,H);case 4:return T=f.sent,W(T),I(s.success),f.abrupt("return",T);case 10:return f.prev=10,f.t0=f.catch(0),S={err:f.t0.info},W(S),I(s.failure),f.abrupt("return",S);case 16:case"end":return f.stop()}},Y,null,[[0,10]])})),[I,W]);return{status:L,request:G,data:F}},s;(function(p){p[p.start=0]="start",p[p.wait=1]="wait",p[p.success=2]="success",p[p.failure=3]="failure"})(s||(s={}))}}]);
