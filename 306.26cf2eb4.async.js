(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[306],{29306:function(N){(function(Q){"use strict";var s=q(),B=J(),D=z(),L=K(),F={imagePlaceholder:void 0,cacheBust:!1},T={toSvg:M,toPng:V,toJpeg:H,toBlob:_,toPixelData:O,impl:{fontFaces:D,images:L,util:s,inliner:B,options:{}}};N.exports=T;function M(n,t){return t=t||{},X(t),Promise.resolve(n).then(function(o){return j(o,t.filter,!0)}).then(G).then($).then(r).then(function(o){return W(o,t.width||s.width(n),t.height||s.height(n))});function r(o){return t.bgcolor&&(o.style.backgroundColor=t.bgcolor),t.width&&(o.style.width=t.width+"px"),t.height&&(o.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(l){o.style[l]=t.style[l]}),o}}function O(n,t){return I(n,t||{}).then(function(r){return r.getContext("2d").getImageData(0,0,s.width(n),s.height(n)).data})}function V(n,t){return I(n,t||{}).then(function(r){return r.toDataURL()})}function H(n,t){return t=t||{},I(n,t).then(function(r){return r.toDataURL("image/jpeg",t.quality||1)})}function _(n,t){return I(n,t||{}).then(s.canvasToBlob)}function X(n){typeof n.imagePlaceholder=="undefined"?T.impl.options.imagePlaceholder=F.imagePlaceholder:T.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?T.impl.options.cacheBust=F.cacheBust:T.impl.options.cacheBust=n.cacheBust}function I(n,t){return M(n,t).then(s.makeImage).then(s.delay(100)).then(function(o){var l=r(n);return l.getContext("2d").drawImage(o,0,0),l});function r(o){var l=document.createElement("canvas");if(l.width=t.width||s.width(o),l.height=t.height||s.height(o),t.bgcolor){var c=l.getContext("2d");c.fillStyle=t.bgcolor,c.fillRect(0,0,l.width,l.height)}return l}}function j(n,t,r){if(!r&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(o).then(function(i){return l(n,i,t)}).then(function(i){return c(n,i)});function o(i){return i instanceof HTMLCanvasElement?s.makeImage(i.toDataURL()):i.cloneNode(!1)}function l(i,u,p){var P=i.childNodes;if(P.length===0)return Promise.resolve(u);return m(u,s.asArray(P),p).then(function(){return u});function m(S,v,g){var y=Promise.resolve();return v.forEach(function(C){y=y.then(function(){return j(C,g)}).then(function(w){w&&S.appendChild(w)})}),y}}function c(i,u){if(!(u instanceof Element))return u;return Promise.resolve().then(p).then(P).then(m).then(S).then(function(){return u});function p(){v(window.getComputedStyle(i),u.style);function v(g,y){g.cssText?y.cssText=g.cssText:C(g,y);function C(w,A){s.asArray(w).forEach(function(e){A.setProperty(e,w.getPropertyValue(e),w.getPropertyPriority(e))})}}}function P(){[":before",":after"].forEach(function(g){v(g)});function v(g){var y=window.getComputedStyle(i,g),C=y.getPropertyValue("content");if(C===""||C==="none")return;var w=s.uid();u.className=u.className+" "+w;var A=document.createElement("style");A.appendChild(e(w,g,y)),u.appendChild(A);function e(a,h,f){var d="."+a+":"+h,b=f.cssText?R(f):k(f);return document.createTextNode(d+"{"+b+"}");function R(E){var x=E.getPropertyValue("content");return E.cssText+" content: "+x+";"}function k(E){return s.asArray(E).map(x).join("; ")+";";function x(U){return U+": "+E.getPropertyValue(U)+(E.getPropertyPriority(U)?" !important":"")}}}}}function m(){i instanceof HTMLTextAreaElement&&(u.innerHTML=i.value),i instanceof HTMLInputElement&&u.setAttribute("value",i.value)}function S(){u instanceof SVGElement&&(u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u instanceof SVGRectElement&&["width","height"].forEach(function(v){var g=u.getAttribute(v);!g||u.style.setProperty(v,g)}))}}}function G(n){return D.resolveAll().then(function(t){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(t)),n})}function $(n){return L.inlineAll(n).then(function(){return n})}function W(n,t,r){return Promise.resolve(n).then(function(o){return o.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(o)}).then(s.escapeXhtml).then(function(o){return'<foreignObject x="0" y="0" width="100%" height="100%">'+o+"</foreignObject>"}).then(function(o){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+o+"</svg>"}).then(function(o){return"data:image/svg+xml;charset=utf-8,"+o})}function q(){return{escape:S,parseExtension:t,mimeType:r,dataAsUrl:m,isDataUrl:o,canvasToBlob:c,resolveUrl:i,getAndEncode:P,uid:u(),delay:v,asArray:g,escapeXhtml:y,makeImage:p,width:C,height:w};function n(){var e="application/font-woff",a="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:a,jpeg:a,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(e){var a=/\.([^\.\/]*?)$/g.exec(e);return a?a[1]:""}function r(e){var a=t(e).toLowerCase();return n()[a]||""}function o(e){return e.search(/^(data:)/)!==-1}function l(e){return new Promise(function(a){for(var h=window.atob(e.toDataURL().split(",")[1]),f=h.length,d=new Uint8Array(f),b=0;b<f;b++)d[b]=h.charCodeAt(b);a(new Blob([d],{type:"image/png"}))})}function c(e){return e.toBlob?new Promise(function(a){e.toBlob(a)}):l(e)}function i(e,a){var h=document.implementation.createHTMLDocument(),f=h.createElement("base");h.head.appendChild(f);var d=h.createElement("a");return h.body.appendChild(d),f.href=a,d.href=e,d.href}function u(){var e=0;return function(){return"u"+a()+e++;function a(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function p(e){return new Promise(function(a,h){var f=new Image;f.onload=function(){a(f)},f.onerror=h,f.src=e})}function P(e){var a=3e4;return T.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime()),new Promise(function(h){var f=new XMLHttpRequest;f.onreadystatechange=R,f.ontimeout=k,f.responseType="blob",f.timeout=a,f.open("GET",e,!0),f.send();var d;if(T.impl.options.imagePlaceholder){var b=T.impl.options.imagePlaceholder.split(/,/);b&&b[1]&&(d=b[1])}function R(){if(f.readyState===4){if(f.status!==200){d?h(d):E("cannot fetch resource: "+e+", status: "+f.status);return}var x=new FileReader;x.onloadend=function(){var U=x.result.split(/,/)[1];h(U)},x.readAsDataURL(f.response)}}function k(){d?h(d):E("timeout of "+a+"ms occured while fetching resource: "+e)}function E(x){console.error(x),h("")}})}function m(e,a){return"data:"+a+";base64,"+e}function S(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function v(e){return function(a){return new Promise(function(h){setTimeout(function(){h(a)},e)})}}function g(e){for(var a=[],h=e.length,f=0;f<h;f++)a.push(e[f]);return a}function y(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")}function C(e){var a=A(e,"border-left-width"),h=A(e,"border-right-width");return e.scrollWidth+a+h}function w(e){var a=A(e,"border-top-width"),h=A(e,"border-bottom-width");return e.scrollHeight+a+h}function A(e,a){var h=window.getComputedStyle(e).getPropertyValue(a);return parseFloat(h.replace("px",""))}}function J(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:l,shouldProcess:t,impl:{readUrls:r,inline:o}};function t(c){return c.search(n)!==-1}function r(c){for(var i=[],u;(u=n.exec(c))!==null;)i.push(u[1]);return i.filter(function(p){return!s.isDataUrl(p)})}function o(c,i,u,p){return Promise.resolve(i).then(function(m){return u?s.resolveUrl(m,u):m}).then(p||s.getAndEncode).then(function(m){return s.dataAsUrl(m,s.mimeType(i))}).then(function(m){return c.replace(P(i),"$1"+m+"$3")});function P(m){return new RegExp(`(url\\(['"]?)(`+s.escape(m)+`)(['"]?\\))`,"g")}}function l(c,i,u){if(p())return Promise.resolve(c);return Promise.resolve(c).then(r).then(function(P){var m=Promise.resolve(c);return P.forEach(function(S){m=m.then(function(v){return o(v,S,i,u)})}),m});function p(){return!t(c)}}}function z(){return{resolveAll:n,impl:{readAll:t}};function n(){return t(document).then(function(r){return Promise.all(r.map(function(o){return o.resolve()}))}).then(function(r){return r.join(`
`)})}function t(){return Promise.resolve(s.asArray(document.styleSheets)).then(o).then(r).then(function(c){return c.map(l)});function r(c){return c.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return B.shouldProcess(i.style.getPropertyValue("src"))})}function o(c){var i=[];return c.forEach(function(u){try{s.asArray(u.cssRules||[]).forEach(i.push.bind(i))}catch(p){console.log("Error while reading CSS rules from "+u.href,p.toString())}}),i}function l(c){return{resolve:function(){var u=(c.parentStyleSheet||{}).href;return B.inlineAll(c.cssText,u)},src:function(){return c.style.getPropertyValue("src")}}}}}function K(){return{inlineAll:t,impl:{newImage:n}};function n(r){return{inline:o};function o(l){return s.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(l||s.getAndEncode).then(function(c){return s.dataAsUrl(c,s.mimeType(r.src))}).then(function(c){return new Promise(function(i,u){r.onload=i,r.onerror=u,r.src=c})})}}function t(r){if(!(r instanceof Element))return Promise.resolve(r);return o(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(s.asArray(r.childNodes).map(function(l){return t(l)}))});function o(l){var c=l.style.getPropertyValue("background");return c?B.inlineAll(c).then(function(i){l.style.setProperty("background",i,l.style.getPropertyPriority("background"))}).then(function(){return l}):Promise.resolve(l)}}}})(this)}}]);
