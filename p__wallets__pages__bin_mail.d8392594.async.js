(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[597],{64302:function($,S,a){"use strict";a.d(S,{Z:function(){return u}});var G=a(28991),b=a(67294),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},O=N,P=a(27029),_=function(Z,E){return b.createElement(P.Z,(0,G.Z)((0,G.Z)({},Z),{},{ref:E,icon:O}))};_.displayName="MailOutlined";var u=b.forwardRef(_)},16434:function($,S,a){"use strict";var G=a(9715),b=a(41003),N=a(57663),O=a(71577),P=a(47673),_=a(1011),u=a(67294),d=a(64893),Z=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"];function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(n){C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t,r,n,s,i,f){try{var v=e[i](f),o=v.value}catch(F){r(F);return}v.done?t(o):Promise.resolve(o).then(n,s)}function L(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function f(o){K(i,n,s,f,v,"next",o)}function v(o){K(i,n,s,f,v,"throw",o)}f(void 0)})}}function z(e,t){if(e==null)return{};var r=U(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function U(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function B(e,t){return Y(e)||x(e,t)||I(e,t)||V()}function V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(e,t){if(!!e){if(typeof e=="string")return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}}function j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,i=!1,f,v;try{for(r=r.call(e);!(s=(f=r.next()).done)&&(n.push(f.value),!(t&&n.length===t));s=!0);}catch(o){i=!0,v=o}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw v}}return n}}function Y(e){if(Array.isArray(e))return e}var c=u.forwardRef(function(e,t){var r=(0,u.useState)(e.countDown||60),n=B(r,2),s=n[0],i=n[1],f=(0,u.useState)(!1),v=B(f,2),o=v[0],F=v[1],Q=(0,u.useState)(),H=B(Q,2),X=H[0],J=H[1],T=e.rules,h=e.name,m=e.phoneName,g=e.fieldProps,D=e.captchaTextRender,l=D===void 0?function(M,R){return M?"".concat(R," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:D,ee=e.captchaProps,te=z(e,Z),k=function(){var M=L(regeneratorRuntime.mark(function R(W){return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,J(!0),y.next=4,te.onGetCaptcha(W);case 4:J(!1),F(!0),y.next=13;break;case 8:y.prev=8,y.t0=y.catch(0),F(!1),J(!1),console.log(y.t0);case 13:case"end":return y.stop()}},R,null,[[0,8]])}));return function(W){return M.apply(this,arguments)}}();return(0,u.useEffect)(function(){var M=0,R=e.countDown;return o&&(M=window.setInterval(function(){i(function(W){return W<=1?(F(!1),clearInterval(M),R||60):W-1})},1e3)),function(){return clearInterval(M)}},[o]),u.createElement(b.Z.Item,{noStyle:!0,shouldUpdate:!0},function(M){var R=M.getFieldValue,W=M.validateFields;return u.createElement("div",{style:w(w({},g==null?void 0:g.style),{},{display:"flex",alignItems:"center"}),ref:t},u.createElement(_.Z,E({},g,{style:{flex:1,transition:"width .3s",marginRight:8}})),u.createElement(O.Z,E({style:{display:"block"},disabled:o,loading:X},ee,{onClick:L(regeneratorRuntime.mark(function q(){var y;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,!m){p.next=9;break}return p.next=4,W([m].flat(1));case 4:return y=R([m].flat(1)),p.next=7,k(y);case 7:p.next=11;break;case 9:return p.next=11,k("");case 11:p.next=16;break;case 13:p.prev=13,p.t0=p.catch(0),console.log(p.t0);case 16:case"end":return p.stop()}},q,null,[[0,13]])}))}),l(o,s)))})});S.Z=(0,d.Z)(c)},34687:function($){$.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",tap:"tap___I2PW7",icon:"icon___rzGKO"}},31510:function($,S,a){"use strict";a.r(S),a.d(S,{default:function(){return r}});var G=a(57663),b=a(71577),N=a(34792),O=a(55026),P=a(3182),_=a(94043),u=a.n(_),d=a(5550),Z=a(37456),E=a(16434),A=a(28991),w=a(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M879.5 470.4c-.3-27-.4-54.2-.5-81.3h-80.8c-.3 27-.5 54.1-.7 81.3-27.2.1-54.2.3-81.2.6v80.9c27 .3 54.2.5 81.2.8.3 27 .3 54.1.5 81.1h80.9c.1-27 .3-54.1.5-81.3 27.2-.3 54.2-.4 81.2-.7v-80.9c-26.9-.2-54.1-.2-81.1-.5zm-530 .4c-.1 32.3 0 64.7.1 97 54.2 1.8 108.5 1 162.7 1.8-23.9 120.3-187.4 159.3-273.9 80.7-89-68.9-84.8-220 7.7-284 64.7-51.6 156.6-38.9 221.3 5.8 25.4-23.5 49.2-48.7 72.1-74.7-53.8-42.9-119.8-73.5-190-70.3-146.6-4.9-281.3 123.5-283.7 270.2-9.4 119.9 69.4 237.4 180.6 279.8 110.8 42.7 252.9 13.6 323.7-86 46.7-62.9 56.8-143.9 51.3-220-90.7-.7-181.3-.6-271.9-.3z"}}]},name:"google-plus",theme:"outlined"},K=C,L=a(27029),z=function(s,i){return w.createElement(L.Z,(0,A.Z)((0,A.Z)({},s),{},{ref:i,icon:K}))};z.displayName="GooglePlusOutlined";var U=w.forwardRef(z),B=a(64302),V=a(34687),I=a.n(V),j=a(93874),x=a(53776),Y=a(67329),c=a(83832),e=a(28219),t=a(85893),r=function(){var n,s,i,f=(0,e.YB)(),v=(0,x.t)("@@initialState"),o=v.initialState,F=v.setInitialState,Q=function(){var T=(0,P.Z)(u().mark(function h(m){var g;return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,j.w.setEmail(m.mail,m.captcha);case 3:g=l.sent,g=g.data,O.default.success(g.info),l.next=12;break;case 8:l.prev=8,l.t0=l.catch(0),console.log(l.t0),O.default.error(l.t0.info);case 12:case"end":return l.stop()}},h,null,[[0,8]])}));return function(m){return T.apply(this,arguments)}}(),H=(0,Y.f)(Q),X=H.request,J=H.status;return(0,t.jsxs)(d.Z,{initialValues:{autoLogin:!0},submitter:{render:function(h,m){return J==Y.o.wait?(0,t.jsx)(c.Z,{}):[(0,t.jsx)(b.Z,{block:!0,type:"primary",onClick:h.submit,children:(0,t.jsx)(e._H,{id:"menu.MyAccount.setmail"})})]}},onFinish:function(){var T=(0,P.Z)(u().mark(function h(m){return u().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,X(m);case 2:case"end":return D.stop()}},h)}));return function(h){return T.apply(this,arguments)}}(),children:[(0,t.jsx)(Z.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(U,{className:I().prefixIcon})},placeholder:(o==null||(n=o.currentUser)===null||n===void 0?void 0:n.email)==""?f.formatMessage({id:"pages.register.username"}):o==null||(s=o.currentUser)===null||s===void 0?void 0:s.email,name:"mail",initialValue:o==null||(i=o.currentUser)===null||i===void 0?void 0:i.email,rules:[{required:!0,pattern:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,message:(0,t.jsx)(e._H,{id:"pages.register.username"})}]}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{height:"10px"}}),(0,t.jsx)(E.Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(B.Z,{className:I().prefixIcon})},captchaProps:{size:"large"},placeholder:f.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(h,m){return h?"".concat(m," ").concat(f.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):f.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},phoneName:"mail",name:"captcha",rules:[{required:!0,message:(0,t.jsx)(e._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var T=(0,P.Z)(u().mark(function h(m){var g;return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,j.w.sendSms(m,"setemail");case 3:if(g=l.sent,g!==!1){l.next=6;break}return l.abrupt("return");case 6:O.default.success(g.info),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(0),O.default.error(l.t0.info);case 12:case"end":return l.stop()}},h,null,[[0,9]])}));return function(h){return T.apply(this,arguments)}}()})]})]})}},67329:function($,S,a){"use strict";a.d(S,{f:function(){return _},o:function(){return u}});var G=a(3182),b=a(2824),N=a(94043),O=a.n(N),P=a(67294),_=function(Z){var E=(0,P.useState)(u.start),A=(0,b.Z)(E,2),w=A[0],C=A[1],K=(0,P.useState)(),L=(0,b.Z)(K,2),z=L[0],U=L[1],B=(0,P.useCallback)((0,G.Z)(O().mark(function V(){var I,j,x=arguments;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,C(u.wait),c.next=4,Z.apply(void 0,x);case 4:return I=c.sent,U(I),C(u.success),c.abrupt("return",I);case 10:return c.prev=10,c.t0=c.catch(0),j={err:c.t0.info},U(j),C(u.failure),c.abrupt("return",j);case 16:case"end":return c.stop()}},V,null,[[0,10]])})),[C,U]);return{status:w,request:B,data:z}},u;(function(d){d[d.start=0]="start",d[d.wait=1]="wait",d[d.success=2]="success",d[d.failure=3]="failure"})(u||(u={}))}}]);
